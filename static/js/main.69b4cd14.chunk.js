(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{57:function(n,e,t){"use strict";t.r(e);var c,a,r,i=t(2),o=t.n(i),s=t(27),b=t(8),d=t(22),j=t(26),l=t(11),p=t(23),u=p.a.initializeApp({apiKey:"AIzaSyAlKGckG39Hw5zm6rWk6zskfoX_cKkekxc",authDomain:"chat-app-3c96c.firebaseapp.com",projectId:"chat-app-3c96c",storageBucket:"chat-app-3c96c.appspot.com",messagingSenderId:"291670964853",appId:"1:291670964853:web:00af9649991cf38850563c"}).firestore(),O=p.a.auth(),h=new p.a.auth.GoogleAuthProvider,x="channels",f="messages",g=u,m=t(9),v=t(5);var y,k,w,S,C,I,z,A=function(){return Object(v.jsxs)(P,{style:{backgroundColor:"green"},children:[Object(v.jsx)(U,{children:"Some menu"}),Object(v.jsx)(B,{children:"User"})]})},P=m.b.header(c||(c=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),U=m.b.div(a||(a=Object(b.a)([""]))),B=m.b.div(r||(r=Object(b.a)([""]))),D=t(37),E=t.n(D);var G,K=function(n){var e=n.channels,t=Object(l.f)().push;return Object(v.jsx)(T,{children:Object(v.jsxs)(J,{children:[Object(v.jsxs)(W,{children:[Object(v.jsx)(F,{children:"Channels"}),Object(v.jsx)(H,{onClick:function(){var n=prompt("Type new room name");n&&g.collection(x).add({name:n})},children:Object(v.jsx)(E.a,{})})]}),Object(v.jsx)(L,{children:e.map((function(n){return Object(v.jsxs)(M,{onClick:function(){return e=n.id,t("/channel/".concat(e));var e},children:["# ",n.name]},n.id)}))})]})})},T=m.b.aside(y||(y=Object(b.a)(["\n  background: orange;\n"]))),J=m.b.div(k||(k=Object(b.a)([""]))),W=m.b.div(w||(w=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px;\n"]))),F=m.b.span(S||(S=Object(b.a)(["\n  font-weight: bold;\n"]))),H=m.b.button(C||(C=Object(b.a)(["\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),L=m.b.ul(I||(I=Object(b.a)([""]))),M=m.b.li(z||(z=Object(b.a)(["\n  cursor: pointer;\n  padding: 6px;\n  &:hover {\n    background: gray;\n  }\n"]))),N=t(33);var X,_,q,Q,R,V,Y=function(n){n.id;var e=n.content,t=n.timestamp,c=n.user,a=n.userImage,r=new Date(t.toDate()).toUTCString();return Object(v.jsxs)(Z,{children:[Object(v.jsx)("p",{children:c}),Object(v.jsx)("p",{children:r}),Object(v.jsx)("p",{children:e}),Object(v.jsx)("img",{src:a,alt:"user",style:{width:"50px",height:"50px"}})]})},Z=m.b.div(G||(G=Object(b.a)(["\n  background-color: #fff;\n  padding: 8px;\n  border: 1px solid gray;\n  border-radius: 8px;\n  margin: 8px;\n"])));var $,nn=function(){var n=Object(i.useState)({}),e=Object(d.a)(n,2),t=e[0],c=e[1],a=Object(i.useState)([]),r=Object(d.a)(a,2),o=r[0],s=r[1],b=Object(i.useState)(""),j=Object(d.a)(b,2),u=j[0],O=j[1],h=Object(l.g)().channelId;Object(i.useEffect)((function(){m(),y()}),[h]);var m=function(){g.collection(x).doc(h).onSnapshot((function(n){console.log(n.data()),c(n.data())}))},y=function(){g.collection(x).doc(h).collection(f).orderBy("timestamp","asc").onSnapshot((function(n){return s(n.docs.map((function(n){return Object(N.a)({id:n.id},n.data())})))}))};return Object(v.jsxs)(en,{style:{backgroundColor:"pink"},children:[Object(v.jsxs)(tn,{children:[Object(v.jsxs)(cn,{children:["# ",t&&t.name]}),Object(v.jsx)(an,{children:"Channel Info"})]}),Object(v.jsx)(rn,{children:o.map((function(n){return Object(v.jsx)(Y,Object(N.a)({},n),n.id)}))}),Object(v.jsxs)(on,{children:[Object(v.jsx)("input",{type:"text",value:u,onChange:function(n){return O(n.target.value)}}),Object(v.jsx)("button",{onClick:function(){u&&g.collection(x).doc(h).collection(f).add({content:u,timestamp:p.a.firestore.Timestamp.now()})},children:"Send"})]})]})},en=m.b.div(X||(X=Object(b.a)(["\n  display: grid;\n  grid-template-rows: 64px auto min-content;\n"]))),tn=m.b.div(_||(_=Object(b.a)(["\n  background-color: yellow;\n  padding: 10px;\n  border-bottom: 1px solid gray;\n"]))),cn=m.b.div(q||(q=Object(b.a)(["\n  font-weight: bold;\n"]))),an=m.b.div(Q||(Q=Object(b.a)([""]))),rn=m.b.div(R||(R=Object(b.a)(["\n  background-color: pink;\n"]))),on=m.b.div(V||(V=Object(b.a)(["\n  background-color: blue;\n"])));var sn,bn,dn=function(n){var e=n.setUser;return Object(v.jsx)(jn,{children:Object(v.jsx)("button",{onClick:function(){O.signInWithPopup(h).then((function(n){return e(n.user)})).catch((function(n){return console.log(n)}))},children:"Login"})})},jn=m.b.div($||($=Object(b.a)([""])));var ln,pn=function(){var n=Object(i.useState)([]),e=Object(d.a)(n,2),t=e[0],c=e[1],a=Object(i.useState)(null),r=Object(d.a)(a,2),o=r[0],s=r[1];Object(i.useEffect)((function(){b()}),[]);var b=function(){g.collection(x).onSnapshot((function(n){c(n.docs.map((function(n){return{id:n.id,name:n.data().name}})))}))};return Object(v.jsx)(un,{children:Object(v.jsxs)(j.a,{children:[Object(v.jsx)(A,{}),o?Object(v.jsxs)(On,{children:[Object(v.jsx)(K,{channels:t}),Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:"/channel/:channelId",component:nn}),Object(v.jsx)(l.a,{path:"/",component:dn,exact:!0}),Object(v.jsx)(l.a,{children:"Not Found"})]})]}):Object(v.jsx)(dn,{setUser:s})]})})},un=m.b.div(sn||(sn=Object(b.a)(["\n  min-height: 100vh;\n  display: grid;\n  grid-template-rows: 40px 1fr;\n"]))),On=m.b.main(bn||(bn=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 260px 1fr;\n"]))),hn=Object(m.a)(ln||(ln=Object(b.a)(["\n    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');\n\n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: 'Poppins', sans-serif;\n    }\n\n    body {\n        background: gray;\n    }\n"])));Object(s.render)(Object(v.jsxs)(o.a.StrictMode,{children:[Object(v.jsx)(hn,{}),Object(v.jsx)(pn,{})]}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.69b4cd14.chunk.js.map